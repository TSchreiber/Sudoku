<html>

	<head>
		<link rel="styleSheet" href="style.css">
		<script src="scripts/script.js"></script>
		<script src="scripts/require.js"></script>
	</head>
	
	<body>  
    <script>
      createGrid();
      
      require("puzzles.json").then((res) => {
        let puzzle_id = 1;
        let data = JSON.parse(res)[puzzle_id].replace(/\s/g,"").split("");
        let i=0; 
        for (let r=0; r<9; r++) {
          for (let c=0; c<9; c++) {
            if (data[i] !== ".") {
              setBox(r, c, data[i]);
            }
            i++;
          }
        }
      });
      
    </script>
    
    <script> //test().then((msg) => console.log(msg)); </script>
    
    <script>
      function check_button_on_click() {
        // remove any existing errors
        for (let r=0; r<9; r++)
          for (let c=0; c<9; c++) 
            document.getElementById(`${r}${c}`).setAttribute("error", false);
        let res = validate();
        if (res !== true) {
          res.squares.forEach((id) => 
            document.getElementById(id).setAttribute("error", true)
          );
          document.getElementsByClassName("grid")[0].setAttribute("validated", false);
        }
        else {
          document.getElementsByClassName("grid")[0].setAttribute("validated", true);
        }
      }
    </script>
    <button id="check-button" onclick="check_button_on_click();">Check</button>
	</body>

</html>